<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Playroom</title>
    <meta name="playroom:room-id" content="!sZgNHUkZHBlGSIUbrs:matrix.org" />
    <link rel="stylesheet" href="styles/app.css" />
    <script type="module" src="scripts/app.js"></script>
  </head>
  <body>
    <playroom-app
      status="loading"
      loading-step="loading"
      v-scope
      v-bind:status="status"
      v-bind:loading-step="loadingStep"
      v-bind:error-type="errorType"
      @mounted="login"
    >
      <video-panel>
        <iframe
          v-bind:src="streamState.videoEmbedUrl"
          v-if="streamState.status === 'ready'"
          title="Stream video content"
          frameborder="0"
          allow="clipboard-write; encrypted-media; picture-in-picture"
          allowfullscreen
        ></iframe>
      </video-panel>
      <chat-panel>
        <chat-loading-indicator>
          <chat-loading-message for-loading-step="loading">
            Loadingâ€¦
          </chat-loading-message>
          <chat-loading-message for-loading-step="logging-in">
            Logging inâ€¦
          </chat-loading-message>
        </chat-loading-indicator>
        <chat-error-indicator>
          <chat-error-message for-error-type="login-error">
            <p>We're having trouble logging you into chat, sorry ðŸ˜–</p>
            <p>
              You can come find me and ask me for help if it keeps happening!
            </p>
          </chat-error-message>
          <chat-error-message for-error-type="must-agree-to-terms">
            <p>Hi welcome!! Excited to have you!!</p>
            <p>
              To use chat, you'll need to read
              <a
                href="terms-placeholder.html"
                v-bind:href="termsUrl"
                target="_blank"
                >our chat server's terms</a
              >
              first, and click Agree. Come back here when you're done!
            </p>
            <p>You can also just hang out and watch if you want ðŸ˜Š</p>
          </chat-error-message>
        </chat-error-indicator>
        <chat-main>
          <header>
            <h1>Chat</h1>
            <display-name-form v-scope="DisplayNameForm()">
              <form @submit="saveDisplayName">
                <label>
                  <div>Display name</div>
                  <input
                    type="text"
                    v-model="displayName"
                    v-bind:disabled="isDisabled"
                    required
                    ref="displayNameInput"
                  />
                </label>
                <button type="submit" v-bind:disabled="isDisabled">Save</button>
              </form>
            </display-name-form>
          </header>
          <div class="hydrogen" ref="hydrogenRoomView"></div>
        </chat-main>
      </chat-panel>
    </playroom-app>
  </body>
</html>
